<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>ç¥çµŒè¡°å¼±</title>

<style>
body {
  font-family: 'Segoe UI', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(135deg, #a0d8ff 0%, #d6f1ff 100%);
  padding: 20px;
}

h2 {
  margin-bottom: 10px;
  font-size: 28px;
  color: #055c9d;
  letter-spacing: 1px;
}

#timer {
  font-size: 22px;
  margin-bottom: 20px;
  color: #003f6b;
}

.game {
  width: 720px;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 14px;
}

.card {
  width: 105px;
  height: 150px;
  perspective: 1000px;
  cursor: pointer;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.65s ease;
}

.card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.15);
  overflow: hidden;
}

.front {
  background: #fff;
  transform: rotateY(180deg);
}

.back {
  background: url('https://deckofcardsapi.com/static/img/back.png');
  background-size: cover;
}

.hidden {
  visibility: hidden;
}

/* å®Œæˆè¦–çª— */
#modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  display: none;
}

#modal-content {
  background: #fff;
  padding: 25px 35px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

#modal-content h3 {
  margin: 0 0 15px;
  font-size: 26px;
  color: #055c9d;
}

#modal-content p {
  font-size: 20px;
  margin-bottom: 15px;
}

#resetBtn {
  padding: 10px 20px;
  background: #1c8adb;
  border: none;
  color: white;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
}
#resetBtn:hover {
  background: #0f6cb0;
}
</style>
</head>
<body>

<h2>ğŸƒ GOGOç¥çµŒè¡°å¼±ï¼ˆ24 æš ã‚«ãƒ¼ãƒ‰ï¼‰</h2>
<div id="timer">çµŒéæ™‚é–“ï¼š0 ç§’</div>

<div class="game" id="game"></div>

<!-- å®Œæˆå½ˆçª— -->
<div id="modal">
  <div id="modal-content">
    <h3>ğŸ‰ ã‚¯ãƒªã‚¢ï¼</h3>
    <p id="result"></p>
    <button id="resetBtn" onclick="location.reload()">ã‚‚ã†ä¸€åº¦éŠã¶</button>
  </div>
</div>

<script>
const deck = [
  "AS","AH","AD","AC",
  "2S","2H","2D","2C",
  "3S","3H","3D","3C"
];

let items = [];
deck.forEach(code => items.push(code, code));
items.sort(() => Math.random() - 0.5);

const game = document.getElementById("game");

let first = null;
let lock = false;
let timerInterval = null;
let seconds = 0;
let flippedCount = 0;
const timerElement = document.getElementById("timer");

// è¨ˆæ™‚å™¨
function startTimer() {
  if (timerInterval) return;
  timerInterval = setInterval(() => {
    seconds++;
    timerElement.textContent = `æ™‚é–“ï¼š${seconds} ç§’`;
  }, 1000);
}

// å»ºç«‹å¡ç‰‡ DOM
items.forEach(code => {
  const card = document.createElement("div");
  card.className = "card";
  card.dataset.value = code;

  const inner = document.createElement("div");
  inner.className = "card-inner";

  const back = document.createElement("div");
  back.className = "card-face back";

  const front = document.createElement("div");
  front.className = "card-face front";
  const img = document.createElement("img");
  img.src = `https://deckofcardsapi.com/static/img/${code}.png`;
  img.style.width = "100%";
  img.style.height = "100%";
  front.appendChild(img);

  inner.appendChild(back);
  inner.appendChild(front);
  card.appendChild(inner);

  card.onclick = () => flipCard(card);
  game.appendChild(card);
});

// ç¿»ç‰Œé‚è¼¯
function flipCard(card) {
  if (lock || card.classList.contains("flipped") || card.classList.contains("hidden"))
    return;

  if (flippedCount === 0) startTimer();

  card.classList.add("flipped");

  if (!first) {
    first = card;
  } else {
    lock = true;
    const second = card;

    if (first.dataset.value === second.dataset.value) {
      setTimeout(() => {
        first.classList.add("hidden");
        second.classList.add("hidden");
        resetTurn();
      }, 450);
    } else {
      setTimeout(() => {
        first.classList.remove("flipped");
        second.classList.remove("flipped");
        resetTurn();
      }, 900);
    }
  }

  flippedCount++;
}

function resetTurn() {
  first = null;
  lock = false;

  // æ˜¯å¦å…¨éƒ¨å®Œæˆï¼Ÿ
  const remaining = document.querySelectorAll(".card:not(.hidden)").length;
  if (remaining === 0) {
    clearInterval(timerInterval);
    showResult();
  }
}

// å®Œæˆå½ˆçª—
function showResult() {
  document.getElementById("result").textContent = `ã‚¯ãƒªã‚¢æ™‚é–“ï¼š${seconds} ç§’ï¼`;
  document.getElementById("modal").style.display = "flex";
}
</script>

</body>
</html>


